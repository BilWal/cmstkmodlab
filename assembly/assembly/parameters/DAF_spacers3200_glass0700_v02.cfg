#-- Created on Nov. 6th 2020 (re-calibrate for new assembly stage + camera ring light)

# Sensor    Ref-Point = corner of fiducial marker measured with Pattern Recognition
# Spacer    Ref-Point = corner of spacer in correspondence with the Sensor Ref-Point
# Baseplate Ref-Point = corner [...]

####################################
### DIMENSIONS #####################
####################################

# dimensions: thickness of assembly components
Thickness_Baseplate   0.330
Thickness_PSS         0.700
Thickness_PSP         0.700
Thickness_MPA         0.000
Thickness_Spacer      3.200
Depth_SpacerSlots     0.350
Thickness_GlueLayer   0.020

####################################
### POSITIONS ######################
####################################

# position: Camera pointing to Sensor Ref-Point area #These coordinates correspond to an arbitrary position where to position the sensor's ref. marker, so that it is quickly recognized by PatRec
RefPointSensor_X     -62.10
RefPointSensor_Y     -81.55
RefPointSensor_Z     -16.30
RefPointSensor_A     0.000

# position: ref-point on assembly platform for calibration of baseplate position (spacer aligned along x-axis)
# values correspond to bottom-left reference-edge on assembly platform
PlatformRefPointCalibrationBaseplate_X   -74.42
PlatformRefPointCalibrationBaseplate_Y   -150.89
PlatformRefPointCalibrationBaseplate_Z   -17.00
PlatformRefPointCalibrationBaseplate_A   0.034

# position: ref-point on assembly platform for calibration of spacers position (spacer aligned along x-axis) #OBSOLETE WITH NEW ASSEMBLY STAGE --> Keep it as is in the code, and duplicate 'PlatformRefPointCalibrationBaseplate_xxx' values
# values correspond to top-left reference-edge on assembly platform
PlatformRefPointCalibrationSpacers_X     -74.42
PlatformRefPointCalibrationSpacers_Y     -150.89
PlatformRefPointCalibrationSpacers_Z     -17.00
PlatformRefPointCalibrationSpacers_A     0.034

# position: z-position where camera is focused on Assembly Stage surface
CameraFocusOnAssemblyStage_X     -15.250
CameraFocusOnAssemblyStage_Y     -66.325
CameraFocusOnAssemblyStage_Z     -17.048
CameraFocusOnAssemblyStage_A       0.000

# position: z-position where camera is focused on Gluing Stage surface #In Y, the spacers should be reasonably centered; in X, the spacer's 'bumps' should be well-positioned on the fast glue lego pieces #FIXME
CameraFocusOnGluingStage_X      -144.250
CameraFocusOnGluingStage_Y      -102.325
CameraFocusOnGluingStage_Z       -70.698
CameraFocusOnGluingStage_A         0.000

####################################
### DISTANCES ######################
####################################
#NB: below 'PSS/PRefPoint' correspond to the ref. point identified by PatRec, i.e. it is assembly-dependent

# distance: Angle of Camera Frame in the XY Motion Stage Ref-Frame [deg] #Obtained with the macro 'calibrations/AngleOfCameraFrameInRefFrame_dA.cc'
AngleOfCameraFrameInRefFrame_dA        -89.6054

# distance: from Sensor Ref-Point to Sensor Pickup position
FromSensorRefPointToSensorPickup_dX     86.50
FromSensorRefPointToSensorPickup_dY     40.30

# distance: from PS-p Ref-Point to PS-s Ref-Point
FromPSPRefPointToPSSRefPoint_dX          1.25
FromPSPRefPointToPSSRefPoint_dY          0.00

# distance: from Spacer physical edge to PS-s Ref-Point #VERIFY
FromSpacerEdgeToPSSRefPoint_dX           0.00
FromSpacerEdgeToPSSRefPoint_dY           0.75

# distance: from PS-p physical edge to PS-p Ref-Point
FromPSPEdgeToPSPRefPoint_dX              0.85
FromPSPEdgeToPSPRefPoint_dY             -0.15

# distance: dZ distance to go from Z position where camera provides best-focus on object,
# to Z position where free pickup-tool (i.e. with no other objects attached) touches the object
#  - empirical value calibrated with multi-pickup tests
FromCameraBestFocusToPickupHeight_dZ   -18.24

# distance: XY distance from 'final position to lower PSs+Spacers onto PSp' to 'position to lower PSs+Spacers onto Gluing Stage'
FromPSSPlusSpacersToMaPSAPositionToGluingStage_dX       -170.5
FromPSSPlusSpacersToMaPSAPositionToGluingStage_dY         -5.0

# distance: from ref-point on assembly platform (for spacers calibration) to spacer's edge
FromPlatformRefPointCalibrationSpacersToSpacerEdge_dX         -0.57
FromPlatformRefPointCalibrationSpacersToSpacerEdge_dY        -36.82

# distance: from ref-point on assembly platform (for baseplate calibration) to baseplate's edge
FromPlatformRefPointCalibrationBaseplateToPSPEdge_dX          11.13
FromPlatformRefPointCalibrationBaseplateToPSPEdge_dY          70.08
